use solidity::ast::*;
use std::io;

pub struct NodeModulesImportsVisitor;

impl AstVisitor for NodeModulesImportsVisitor {
    fn visit_import_directive<'a>(
        &mut self,
        context: &mut ImportDirectiveContext<'a>
    ) -> io::Result<()> {
        if context.import_directive.file.contains("../node_modules") {
            println!(
                "\tL{}: Unnecessary relative node_modules import: `{}`",
                context.current_source_unit.source_line(context.import_directive.src.as_str())?,
                context.import_directive.file
            );
        }

        Ok(())
    }
}
